$c_0: #000000;

.b-game-card {
  position: relative;
  z-index: 0; // ważne dla cienia
  width: 100%;
  aspect-ratio: 2 / 3; // zostaw to
  perspective: 1000px; // rodzic perspektywy
  perspective-origin: 50% 30%; // delikatne wrażenie „wysuwki z góry”
  overflow: visible; // nie ucinaj 3D na kontenerze
  isolation: isolate; // własny stacking-context (pomaga z ::before)

  &__plane {
    position: relative; // ✅ zamiast absolute
    inset: 0; // możesz zostawić albo usunąć
    width: 100%;
    height: 100%; // ✅ konieczne, żeby kontener miał niezerową wysokość
    overflow: hidden; // tu przycinamy gloss 120% do karty
    transform-style: preserve-3d;
    transform-origin: top center;
    will-change: transform;
    transition: transform 0.35s ease-in-out;
    transform: translateZ(0) skewX(0.001deg);
    z-index: 1;
  }

  // &__plane {
  //   position: absolute;
  //   inset: 0;
  //   overflow: hidden;           // tu przycinamy gloss 120% do karty
  //   transform-style: preserve-3d;
  //   transform-origin: top center;
  //   will-change: transform;
  //   transition: transform 0.35s ease-in-out;
  //   transform: translateZ(0) skewX(0.001deg); // GPU nudge
  //   z-index: 1;                 // nad cieniem
  // }

  &__cover {
    position: absolute; // Angular fill też to doda, ale jawność pomaga
    inset: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
    backface-visibility: hidden;
    transform: translateZ(0);
  }

  &__gloss {
    position: absolute;
    left: 0;
    right: 0;
    top: -20%; // 120% wysokości jak w oryginale
    height: 120%;
    pointer-events: none;
    background: linear-gradient(
      226deg,
      rgba(255, 255, 255, 0.4) 0%,
      rgba(255, 255, 255, 0.4) 35%,
      rgba(255, 255, 255, 0.2) 42%,
      rgba(255, 255, 255, 0) 60%
    );
    transform: translateY(-20%);
    transition: transform 0.65s cubic-bezier(0.18, 0.9, 0.58, 1);
    z-index: 2; // nad img
    backface-visibility: hidden;
  }

  // Hover: obracamy CAŁY plane (img + gloss razem)
  &:hover &__plane {
    transform: rotateX(7deg) translateY(-6px);
  }

  &:hover &__gloss {
    transform: translateY(0%);
  }

  // Cień pod kartą (jak w oryginale)
  &::before {
    content: "";
    position: absolute;
    top: 5%;
    left: 5%;
    width: 90%;
    height: 90%;
    background: rgba($c_0, 0.5);
    box-shadow: 0 6px 12px 12px rgba($c_0, 0.4);
    transform-origin: top center;
    transform: skewX(0.001deg);
    transition: transform 0.35s ease-in-out, opacity 0.5s ease-in-out;
    z-index: -1; // pod plane
  }

  &:hover::before {
    opacity: 0.6;
    transform: rotateX(7deg) translateY(-6px) scale(1.05);
  }
}
